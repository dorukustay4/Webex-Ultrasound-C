<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ultrasound Webex - Home</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../styles/style.css">
  <link rel="stylesheet" href="../styles/home-style.css">
</head>
<body>
  <div class="app-container">
    <!-- Sidebar Navigation -->
    <nav class="sidebar">
      <div class="sidebar-header">
        <div class="logo">
          <svg width="28" height="28" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="16" cy="16" r="16" fill="url(#gradient)"/>
            <path d="M12 10L20 16L12 22V10Z" fill="white"/>
            <defs>
              <linearGradient id="gradient" x1="0" y1="0" x2="32" y2="32" gradientUnits="userSpaceOnUse">
                <stop stop-color="#3b82f6"/>
                <stop offset="1" stop-color="#10b981"/>
              </linearGradient>
            </defs>
          </svg>
          <h2 class="gradient-text">Ultrasound Webex</h2>
        </div>
      </div>
      
      <div class="sidebar-menu">
        <a href="home.html" class="nav-item active">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10 2L3 7V18C3 18.5523 3.44772 19 4 19H7V14H13V19H16C16.5523 19 17 18.5523 17 18V7L10 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Home</span>
        </a>
        
        <a href="profile.html" class="nav-item">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10 10C12.7614 10 15 7.76142 15 5C15 2.23858 12.7614 0 10 0C7.23858 0 5 2.23858 5 5C5 7.76142 7.23858 10 10 10Z" fill="currentColor"/>
            <path d="M10 12C4.47715 12 0 16.4772 0 22H20C20 16.4772 15.5228 12 10 12Z" fill="currentColor"/>
          </svg>
          <span>Profile</span>
        </a>
        
        <a href="index.html" class="nav-item">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15 10L19 14L15 18M19 14H9M9 3H5C3.89543 3 3 3.89543 3 5V7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Call Room</span>
        </a>
        
        <a href="library.html" class="nav-item">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 4H16C17.1046 4 18 4.89543 18 6V16C18 17.1046 17.1046 18 16 18H4C2.89543 18 2 17.1046 2 16V6C2 4.89543 2.89543 4 4 4Z" stroke="currentColor" stroke-width="2"/>
            <path d="M6 8H14M6 12H10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <span>Library</span>
        </a>
      </div>
      
      <!-- User section at bottom of sidebar -->
      <div class="sidebar-user" id="sidebar-user" style="display: none;">
        <div class="user-avatar">
          <img id="sidebar-user-avatar" src="" alt="User Avatar">
        </div>
        <div class="user-info">
          <span class="user-name" id="sidebar-user-name">User Name</span>
          <span class="user-email" id="sidebar-user-email">user@example.com</span>
        </div>
        <button class="logout-btn" onclick="logout()" title="Sign Out">
          <svg width="16" height="16" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 3H5C3.89543 3 3 3.89543 3 5V15C3 16.1046 3.89543 17 5 17H9M13 7L17 11M17 11L13 15M17 11H9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <div class="content-header">
        <div class="welcome-section">
          <h1 class="welcome-title">Welcome to <span class="gradient-text">Ultrasound Webex</span></h1>
          <p class="welcome-subtitle">Advanced meeting annotation platform for medical professionals</p>
        </div>
        
        <!-- Quick Actions -->
        <div class="quick-actions">
          <button class="action-btn primary" onclick="startCall()">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M15 12V15C15 15.5523 15.4477 16 16 16C16.5523 16 17 15.5523 17 15V12H15Z" fill="currentColor"/>
              <path d="M3 12V15C3 15.5523 3.44772 16 4 16C4.55228 16 5 15.5523 5 15V12H3Z" fill="currentColor"/>
              <path d="M10 2C7.79086 2 6 3.79086 6 6V12C6 14.2091 7.79086 16 10 16C12.2091 16 14 14.2091 14 12V6C14 3.79086 12.2091 2 10 2Z" fill="currentColor"/>
            </svg>
            Start Call
          </button>
          
          <button class="action-btn secondary" onclick="scheduleCall()">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M6 2V4M14 2V4M3 8H17M5 18H15C16.1046 18 17 17.1046 17 16V6C17 4.89543 16.1046 4 15 4H5C3.89543 4 3 4.89543 3 6V16C3 17.1046 3.89543 18 5 18Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Schedule Call
          </button>
          
          <button class="action-btn tertiary" onclick="joinCall()">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M8 12L12 8M12 8V11M12 8H9M18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Join Call
          </button>
        </div>
      </div>

      <!-- Dashboard Grid -->
      <div class="dashboard-grid">
        <!-- Upcoming Calls Card -->
        <div class="dashboard-card">
          <div class="card-header">
            <h3>Upcoming Calls</h3>
            <button class="card-action-btn" onclick="viewAllCalls()">
              <svg width="16" height="16" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7 7L13 13M13 7L7 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
          <div class="card-content">
            <div class="upcoming-calls" id="upcoming-calls">
              <div class="call-item">
                <div class="call-time">
                  <span class="time">2:30 PM</span>
                  <span class="date">Today</span>
                </div>
                <div class="call-details">
                  <h4>Ultrasound Review Session</h4>
                  <p>Dr. Sarah Johnson, Dr. Mike Chen</p>
                  <span class="call-type">Annotation Session</span>
                </div>
                <button class="join-btn-small" onclick="joinSpecificCall('call-123')">Join</button>
              </div>
              
              <div class="call-item">
                <div class="call-time">
                  <span class="time">4:00 PM</span>
                  <span class="date">Today</span>
                </div>
                <div class="call-details">
                  <h4>Team Consultation</h4>
                  <p>Medical Team Alpha</p>
                  <span class="call-type">Consultation</span>
                </div>
                <button class="join-btn-small" onclick="joinSpecificCall('call-456')">Join</button>
              </div>
              
              <div class="call-item">
                <div class="call-time">
                  <span class="time">9:00 AM</span>
                  <span class="date">Tomorrow</span>
                </div>
                <div class="call-details">
                  <h4>Weekly Review</h4>
                  <p>Dr. Emily Davis</p>
                  <span class="call-type">Review</span>
                </div>
                <button class="join-btn-small scheduled" disabled>Scheduled</button>
              </div>
            </div>
            
            <div class="no-calls" id="no-calls" style="display: none;">
              <div class="empty-state">
                <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z" stroke="#6B7280" stroke-width="2"/>
                  <path d="M16 24L22 30L32 18" stroke="#6B7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <p>No upcoming calls</p>
                <button class="action-btn secondary" onclick="scheduleCall()">Schedule Your First Call</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Recent Activity Card -->
        <div class="dashboard-card">
          <div class="card-header">
            <h3>Recent Activity</h3>
            <button class="card-action-btn" onclick="viewAllActivity()">
              <svg width="16" height="16" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 5L16 12L9 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
          <div class="card-content">
            <div class="activity-list">
              <div class="activity-item">
                <div class="activity-icon annotation">
                  <svg width="16" height="16" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4 4H16V16H4V4Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M8 8L12 12M12 8L8 12" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <div class="activity-details">
                  <h4>Annotation Created</h4>
                  <p>Added 3 polygon annotations to Case #127</p>
                  <span class="activity-time">2 hours ago</span>
                </div>
              </div>
              
              <div class="activity-item">
                <div class="activity-icon call">
                  <svg width="16" height="16" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15 12V15C15 15.5523 15.4477 16 16 16C16.5523 16 17 15.5523 17 15V12H15Z" fill="currentColor"/>
                    <path d="M3 12V15C3 15.5523 3.44772 16 4 16C4.55228 16 5 15.5523 5 15V12H3Z" fill="currentColor"/>
                    <path d="M10 2C7.79086 2 6 3.79086 6 6V12C6 14.2091 7.79086 16 10 16C12.2091 16 14 14.2091 14 12V6C14 3.79086 12.2091 2 10 2Z" fill="currentColor"/>
                  </svg>
                </div>
                <div class="activity-details">
                  <h4>Call Completed</h4>
                  <p>45-minute consultation with Dr. Sarah Johnson</p>
                  <span class="activity-time">1 day ago</span>
                </div>
              </div>
              
              <div class="activity-item">
                <div class="activity-icon share">
                  <svg width="16" height="16" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4 12V18C4 18.5523 4.44772 19 5 19H15C15.5523 19 16 18.5523 16 18V12M12 8L8 4L4 8M8 4V14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </div>
                <div class="activity-details">
                  <h4>File Shared</h4>
                  <p>Shared annotation report with medical team</p>
                  <span class="activity-time">3 days ago</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Quick Stats Card -->
        <div class="dashboard-card stats-card">
          <div class="card-header">
            <h3>Statistics</h3>
          </div>
          <div class="card-content">
            <div class="stats-grid">
              <div class="stat-item">
                <div class="stat-value">24</div>
                <div class="stat-label">Total Calls</div>
              </div>
              <div class="stat-item">
                <div class="stat-value">156</div>
                <div class="stat-label">Annotations</div>
              </div>
              <div class="stat-item">
                <div class="stat-value">12.5h</div>
                <div class="stat-label">Call Time</div>
              </div>
              <div class="stat-item">
                <div class="stat-value">8</div>
                <div class="stat-label">Collaborators</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Join Call Modal -->
  <div class="modal" id="join-call-modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Join Call</h3>
        <button class="close-btn" onclick="closeJoinModal()">&times;</button>
      </div>
      <div class="modal-body">
        <div class="input-group">
          <label for="meeting-id">Meeting ID or Link</label>
          <input type="text" id="meeting-id" placeholder="Enter meeting ID or paste meeting link">
        </div>
        <div class="modal-actions">
          <button class="action-btn secondary" onclick="closeJoinModal()">Cancel</button>
          <button class="action-btn primary" onclick="joinMeetingById()">Join Call</button>
        </div>
      </div>
    </div>
  </div>

  <script src="../scripts/auth.js"></script>
  <script src="../scripts/home.js"></script>
</body>
</html>
