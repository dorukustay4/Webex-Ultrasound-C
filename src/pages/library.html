<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ultrasound Webex - Library</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../styles/style.css">
  <link rel="stylesheet" href="../styles/home-style.css">
</head>
<body>
  <div class="app-container">
    <!-- Sidebar Navigation -->
    <nav class="sidebar">
      <div class="sidebar-header">
        <div class="logo">
          <svg width="28" height="28" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="16" cy="16" r="16" fill="url(#gradient)"/>
            <path d="M12 10L20 16L12 22V10Z" fill="white"/>
            <defs>
              <linearGradient id="gradient" x1="0" y1="0" x2="32" y2="32" gradientUnits="userSpaceOnUse">
                <stop stop-color="#3b82f6"/>
                <stop offset="1" stop-color="#10b981"/>
              </linearGradient>
            </defs>
          </svg>
          <h2 class="gradient-text">Ultrasound Webex</h2>
        </div>
      </div>
      
      <div class="sidebar-menu">
        <a href="home.html" class="nav-item">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10 2L3 7V18C3 18.5523 3.44772 19 4 19H7V14H13V19H16C16.5523 19 17 18.5523 17 18V7L10 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Home</span>
        </a>
        
        <a href="profile.html" class="nav-item">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10 10C12.7614 10 15 7.76142 15 5C15 2.23858 12.7614 0 10 0C7.23858 0 5 2.23858 5 5C5 7.76142 7.23858 10 10 10Z" fill="currentColor"/>
            <path d="M10 12C4.47715 12 0 16.4772 0 22H20C20 16.4772 15.5228 12 10 12Z" fill="currentColor"/>
          </svg>
          <span>Profile</span>
        </a>
        
        <a href="index.html" class="nav-item">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15 10L19 14L15 18M19 14H9M9 3H5C3.89543 3 3 3.89543 3 5V7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Call Room</span>
        </a>
        
        <a href="library.html" class="nav-item active">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 4H16C17.1046 4 18 4.89543 18 6V16C18 17.1046 17.1046 18 16 18H4C2.89543 18 2 17.1046 2 16V6C2 4.89543 2.89543 4 4 4Z" stroke="currentColor" stroke-width="2"/>
            <path d="M6 8H14M6 12H10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <span>Library</span>
        </a>
      </div>
      
      <!-- User section at bottom of sidebar -->
      <div class="sidebar-user" id="sidebar-user" style="display: none;">
        <div class="user-avatar">
          <img id="sidebar-user-avatar" src="" alt="User Avatar">
        </div>
        <div class="user-info">
          <span class="user-name" id="sidebar-user-name">User Name</span>
          <span class="user-email" id="sidebar-user-email">user@example.com</span>
        </div>
        <button class="logout-btn" onclick="logout()" title="Sign Out">
          <svg width="16" height="16" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 3H5C3.89543 3 3 3.89543 3 5V15C3 16.1046 3.89543 17 5 17H9M13 7L17 11M17 11L13 15M17 11H9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <div class="content-header">
        <div class="welcome-section">
          <h1 class="welcome-title">Annotation Library</h1>
          <p class="welcome-subtitle">Browse and manage your saved annotations and recordings</p>
        </div>
      </div>

      <!-- Coming Soon Message -->
      <div class="dashboard-card">
        <div class="card-content" style="text-align: center; padding: 4rem 2rem;">
          <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-bottom: 2rem; opacity: 0.5;">
            <path d="M8 8H56C58.2091 8 60 9.79086 60 12V52C60 54.2091 58.2091 56 56 56H8C5.79086 56 4 54.2091 4 52V12C4 9.79086 5.79086 8 8 8Z" stroke="#6B7280" stroke-width="4"/>
            <path d="M12 16H52M12 24H36M12 32H52M12 40H28" stroke="#6B7280" stroke-width="3" stroke-linecap="round"/>
          </svg>
          <h2 style="color: #ffffff; font-size: 1.5rem; margin-bottom: 1rem;">Library Coming Soon</h2>
          <p style="color: #a0aec0; margin-bottom: 2rem; line-height: 1.6;">
            The annotation library is currently under development. This will include features for:
          </p>
          <div style="text-align: left; max-width: 400px; margin: 0 auto 2rem;">
            <ul style="color: #a0aec0; line-height: 1.8;">
              <li>Saved annotation sessions</li>
              <li>Recording archives</li>
              <li>Searchable annotation database</li>
              <li>Export and sharing capabilities</li>
              <li>Collaboration tools</li>
            </ul>
          </div>
          <button class="action-btn secondary" onclick="window.location.href='home.html'">
            Back to Home
          </button>
        </div>
      </div>
    </main>
  </div>

  <script src="../scripts/auth.js"></script>
  <script>
    // Basic auth check for library page
    document.addEventListener('DOMContentLoaded', function() {
      const authMode = localStorage.getItem('webex_auth_mode');
      
      if (authMode === 'authenticated' && isAuthenticated && isAuthenticated()) {
        const userInfo = getCurrentUser && getCurrentUser();
        if (userInfo) {
          // Display user info in sidebar
          const sidebarUser = document.getElementById('sidebar-user');
          const sidebarUserAvatar = document.getElementById('sidebar-user-avatar');
          const sidebarUserName = document.getElementById('sidebar-user-name');
          const sidebarUserEmail = document.getElementById('sidebar-user-email');
          
          if (sidebarUser) {
            sidebarUser.style.display = 'flex';
            
            if (sidebarUserAvatar && userInfo.avatar) {
              sidebarUserAvatar.src = userInfo.avatar;
            }
            
            if (sidebarUserName && userInfo.displayName) {
              sidebarUserName.textContent = userInfo.displayName;
            }
            
            if (sidebarUserEmail && userInfo.emails && userInfo.emails.length > 0) {
              sidebarUserEmail.textContent = userInfo.emails[0];
            }
          }
        }
      } else if (authMode !== 'guest') {
        window.location.href = 'login.html';
      }
    });
  </script>
</body>
</html>
